<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>
  <!-- I recommend you host this file on your own, since this will change without warning -->
  <script src="http://datamaps.github.io/scripts/datamaps.world.min.js?v=1"></script>
  <h2>Trabalho InfoVis</h2>
  <p><a href="http://datamaps.github.io/">DataMaps Project Homepage</a></p>
  <div id="container1" style="position: relative; width: 80%; max-height: 450px;">
    <button onclick="javascript:startMap();">Botafogo</button>
    <button onclick="javascript:startMap2();">Flamengo</button></div>

     <script>

     function startMap() {
     	d3.csv("./cities.csv", function(json){
        //sample of the arc plugin
        map.arc([
         {
          origin: {
              latitude: 40.639722,
              longitude: 73.778889
          },
          destination: {
              latitude: -14.235004,
              longitude: -51.92528
          }
        },
          {
          origin: {
              latitude: 70.639722,
              longitude: 73.778889
          },
          destination: {
              latitude: -14.235004,
              longitude: -51.92528
          }
        },
        {
            origin: {
                latitude: 30.194444,
                longitude: -97.67
            },
            destination: {
                latitude: -14.235004,
                longitude: -51.92528
            }
        }
        ], {strokeWidth: 6});

         //bubbles, custom popup on hover template
       map.bubbles([
         {name: 'Hot', latitude: 40.639722, longitude: 73.778889, radius: 10, fillKey: 'gt50'},
         {name: 'Chilly', latitude: 70.639722, longitude: 73.778889, radius: 18, fillKey: 'lt50'},
         {name: 'Hot again', latitude: 30.194444, longitude: -97.67, radius: 8, fillKey: 'gt50'},

       ], {
         popupTemplate: function(geo, data) {
           return "<div class='hoverinfo'>It is " + data.name + "</div>";
         }
       });
     	});
     }

     function startMap2() {
        	d3.csv("./cities.csv", function(json){
           //sample of the arc plugin
           map.arc([
            {
             origin: {
                 latitude: 73.778889,
                 longitude: 40.639722
             },
             destination: {
               latitude: 70.639722,
               longitude: 73.778889
             }
           },
             {
             origin: {
                 latitude: 30.194444,
                 longitude: 73.778889
             },
             destination: {
                 latitude: 70.639722,
                 longitude: 73.778889
             }
           },
           {
               origin: {
                   latitude: 30.194444,
                   longitude: -97.67
               },
               destination: {
                 latitude: 70.639722,
                 longitude: 73.778889
               }
           }
           ], {strokeWidth: 6});


         //bubbles, custom popup on hover template
       map.bubbles([
         {name: 'Hot', latitude: 40.639722, longitude: 73.778889, radius: 10, fillKey: 'gt50'},
         {name: 'Chilly', latitude: 70.639722, longitude: 73.778889, radius: 18, fillKey: 'lt50'},
         {name: 'Hot again', latitude: 30.194444, longitude: -97.67, radius: 8, fillKey: 'gt50'},

       ], {
         popupTemplate: function(geo, data) {
           return "<div class='hoverinfo'>It is " + data.name + "</div>";
         }
       });
     	});
     }

       //basic map config with custom fills, mercator projection
      var map = new Datamap({
        scope: 'world',
        element: document.getElementById('container1'),
        projection: 'mercator',
        height: 500,
        fills: {
          defaultFill: '#f0af0a',
          lt50: 'rgba(0,244,244,0.9)',
          gt50: 'red'
        },

        data: {
          USA: {fillKey: 'lt50' },
          RUS: {fillKey: 'lt50' },
          CAN: {fillKey: 'lt50' },
          BRA: {fillKey: 'gt50' },
          ARG: {fillKey: 'gt50'},
          COL: {fillKey: 'gt50' },
          AUS: {fillKey: 'gt50' },
          ZAF: {fillKey: 'gt50' },
          MAD: {fillKey: 'gt50' }
        }
      })



     </script>
</body>
